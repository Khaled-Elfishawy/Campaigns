"use strict";window.myInit=function(){var e={};e.camp=window.campaign||"TRDC",e.formIds=window.formIds,e.ipinfo=window.ipinfo;var r=e.camp,o=e.formIds;!function(){var e="https://formula-aff-be.herokuapp.com/v1/leads/lead",d=o||{nameField:{fieldId:"#name",errorId:"#nameError"},typeField:{fieldId:"#type",errorId:"#typeError"},acceptTerms:{fieldId:"#acceptTerms",errorId:"#acceptTermsError"},emailField:{fieldId:"#email",errorId:"#emailError"},ageField:{fieldId:"#age",errorId:"#ageError"},phoneNumberField:{fieldId:"#PhoneNumber",errorId:"#phoneError"}},i=".spinner",n=".formButtonText";function a(){var e=$(i),r=$(n);e&&e.css("display","none"),r&&r.val("سجل الآن")}window.goto=function(){$("html, body").animate({scrollTop:$("#mainForm").offset().top-100},300)};var l=d.nameField,t=d.emailField,s=d.ageField,c=d.acceptTerms,f=d.typeField,m=d.phoneNumberField;window.submitLandingActionForm=function(){!function(){var o,d,p=function(){var e=$(l.fieldId).val(),r=$(t.fieldId).val(),o=$(s.fieldId).val(),d=$(m.fieldId).val(),i=$(f.fieldId).val();return d&&d.length>0&&(d=d),{name:e,age:o,email:r,phoneNumber:d,type:i,dialCode:"966"}}(),I=p.name,u=p.type,g=p.age,b=p.email,h=p.phoneNumber,y=p.dialCode;o=$(i),d=$(n),o&&o.css("display","flex"),d&&d.val("");var w=y+"-"+h,x=function(e){var r,o=e.phoneNumber,d=e.age,i=e.type,n=e.name;o&&new RegExp(/^[0-9٠-٩]{9,10}$/).test(o)?($(m.errorId).text(""),$(m.fieldId).css("border","0px"),$(m.fieldId).css("background-color","#fff")):($(m.fieldId).css("border","1px rgb(255,51,51) solid"),$(m.fieldId).css("background-color","rgb(255,226,226)"),r=!0),!n||n.length<1?($(l.errorId).text("Required"),$(l.fieldId).css("border","1px rgb(255,51,51) solid"),$(l.fieldId).css("background-color","rgb(255,226,226)"),r=!0):($(l.errorId).text(""),$(l.fieldId).css("border","0px"),$(l.fieldId).css("background-color","#fff")),$(s.fieldId).length&&(d&&new RegExp(/^([2-9٢٣٤٥٦٧٨٩][0-9٠١٢٣٤٥٦٧٨٩])$/).test(d)?($(s.errorId).text(""),$(s.fieldId).css("border","0px"),$(s.fieldId).css("background-color","#fff")):($(s.errorId).text("Required"),$(s.fieldId).css("border","1px rgb(255,51,51) solid"),$(s.fieldId).css("background-color","rgb(255,226,226)"),r=!0)),$(f.fieldId).length&&(""===i?($(f.errorId).text("Required"),$(f.fieldId).css("border","1px rgb(255,51,51) solid"),$(f.fieldId).css("background-color","rgb(255,226,226)"),r=!0):($(f.errorId).text(""),$(f.fieldId).css("border","0px"),$(f.fieldId).css("background-color","#fff")));var a=$(c.fieldId);return a.length&&(a.is(":checked")?$(c.errorId).css("border","0px"):($(c.errorId).css("border","1px rgb(255,51,51) solid"),r=!0)),r}({phoneNumber:h,type:u,name:I,email:b,age:g}),v=e;if(x)a(),console.error("error submitting: "+h+I);else{var k={phoneNumber:w,firstName:I,lastName:I,email:b,name:I,country:"SA",campaign:r,age:{},demog:g,type:u,referrer:document.referrer,sourceData:{search:window.location.search,href:window.location.href}};$.ajax({type:"POST",crossDomain:!0,dataType:"json",url:v,contentType:"application/json; charset=utf-8",data:JSON.stringify(k),success:function(e){e&&e.sorry?(localStorage.setItem("fl","true"),location.href="/sorry.html"):(localStorage.setItem("fl","true"),location.href="/thankyou.html")},error:function(){a(),console.error("error submitting: "+h+I)}})}}()},window.addComment=function(){var e=$("#add-comment-success"),r=$("#add-comment-parent");e.length>0&&e.css("display","block"),r.length>0&&r.css("display","none")},$(document).ready((function(){}))}()},window.myInit();